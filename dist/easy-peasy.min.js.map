{"version":3,"file":"easy-peasy.min.js","sources":["../src/lib.js","../src/easy-peasy.js","../src/context.js","../src/provider.js","../src/hooks.js","../node_modules/shallowequal/index.js"],"sourcesContent":["export const isStateObject = x =>\n  x !== null && typeof x === 'object' && !Array.isArray(x)\n","import {\n  applyMiddleware,\n  compose as reduxCompose,\n  createStore as reduxCreateStore,\n} from 'redux'\nimport memoizeOne from 'memoize-one'\nimport produce from 'immer'\nimport thunk from 'redux-thunk'\nimport { isStateObject } from './lib'\n\nconst effectSymbol = '__effect__'\nconst selectSymbol = '__select__'\nconst selectDependenciesSymbol = '__selectDependencies__'\nconst selectStateSymbol = '__selectState__'\nconst reducerSymbol = '__reducer__'\n\nconst get = (path, target) =>\n  path.reduce((acc, cur) => (isStateObject(acc) ? acc[cur] : undefined), target)\n\nconst set = (path, target, value) => {\n  path.reduce((acc, cur, idx) => {\n    if (idx + 1 === path.length) {\n      acc[cur] = value\n    } else {\n      acc[cur] = acc[cur] || {}\n    }\n    return acc[cur]\n  }, target)\n}\n\nconst tick = () => new Promise(resolve => setTimeout(resolve))\n\nconst startsWith = (target, search) =>\n  target.substr(0, search.length) === search\n\nexport const effect = fn => {\n  // eslint-disable-next-line no-param-reassign\n  fn[effectSymbol] = true\n  return fn\n}\n\nexport const select = (fn, dependencies) => {\n  const selector = memoizeOne(state => fn(state))\n  selector[selectSymbol] = true\n  selector[selectDependenciesSymbol] = dependencies\n  selector[selectStateSymbol] = {}\n  return selector\n}\n\nexport const reducer = fn => {\n  // eslint-disable-next-line no-param-reassign\n  fn[reducerSymbol] = true\n  return fn\n}\n\nexport const createStore = (model, options = {}) => {\n  const {\n    devTools = true,\n    middleware = [],\n    initialState = {},\n    injections,\n    compose,\n    reducerEnhancer = reducer => reducer,\n  } = options\n\n  const definition = {\n    ...model,\n    logFullState: state => {\n      // eslint-disable-next-line no-console\n      console.log(JSON.stringify(state, null, 2))\n    },\n  }\n\n  const references = {}\n  const defaultState = {}\n  const actionEffects = {}\n  const actionCreators = {}\n  const actionReducers = {}\n  const customReducers = []\n  const selectorReducers = []\n\n  const extract = (current, parentPath) =>\n    Object.keys(current).forEach(key => {\n      const value = current[key]\n      const path = [...parentPath, key]\n      if (typeof value === 'function') {\n        if (value[selectSymbol]) {\n          // skip\n          value[selectStateSymbol] = { parentPath, key, executed: false }\n          selectorReducers.push(value)\n        } else if (value[effectSymbol]) {\n          // Effect Action\n          const actionName = `@effect.${path.join('.')}`\n          const action = payload => {\n            if (devTools) {\n              references.dispatch({\n                type: actionName,\n                payload,\n              })\n            }\n            return value(\n              references.dispatch,\n              payload,\n              references.getState,\n              injections,\n            )\n          }\n          action.actionName = actionName\n          set(path, actionEffects, action)\n\n          // Effect Action Creator\n          set(path, actionCreators, payload =>\n            tick().then(() => references.dispatch(() => action(payload))),\n          )\n        } else if (value[reducerSymbol]) {\n          customReducers.push({ path, reducer: value })\n        } else {\n          // Reducer Action\n          const actionName = `@action.${path.join('.')}`\n          const action = (state, payload) =>\n            produce(state, draft =>\n              value(draft, payload, {\n                dispatch: references.dispatch,\n                dispatchLocal: get(path, references.dispatch),\n                getState: references.getState,\n              }),\n            )\n          action.actionName = actionName\n          set(path, actionReducers, action)\n\n          // Reducer Action Creator\n          set(path, actionCreators, payload =>\n            references.dispatch({\n              type: action.actionName,\n              payload,\n            }),\n          )\n        }\n      } else if (isStateObject(value) && Object.keys(value).length > 0) {\n        extract(value, path)\n      } else {\n        // State\n        const initialParentRef = get(parentPath, initialState)\n        if (initialParentRef && key in initialParentRef) {\n          set(path, defaultState, initialParentRef[key])\n        } else {\n          set(path, defaultState, value)\n        }\n      }\n    })\n\n  extract(definition, [])\n\n  const createReducers = () => {\n    const createActionsReducer = (current, path) => {\n      const actionReducersAtPath = Object.keys(current).reduce((acc, key) => {\n        const value = current[key]\n        if (typeof value === 'function' && !value[effectSymbol]) {\n          return [...acc, value]\n        }\n        return acc\n      }, [])\n      const stateAtPath = Object.keys(current).reduce(\n        (acc, key) => (isStateObject(current[key]) ? [...acc, key] : acc),\n        [],\n      )\n      const nestedReducers = stateAtPath.map(key => [\n        key,\n        createActionsReducer(current[key], [...path, key]),\n      ])\n      return (state = get(path, defaultState), action) => {\n        // short circuit effects as they are noop in reducers\n        if (startsWith(action.type, '@effect.')) {\n          return state\n        }\n        // short circuit actions if they aren't a match on current path\n        if (\n          path.length > 0 &&\n          !startsWith(action.type, `@action.${path.join('.')}`)\n        ) {\n          return state\n        }\n        const actionReducer = actionReducersAtPath.find(\n          x => x.actionName === action.type,\n        )\n        if (actionReducer) {\n          return actionReducer(state, action.payload)\n        }\n        for (let i = 0; i < nestedReducers.length; i += 1) {\n          const [key, red] = nestedReducers[i]\n          const newState = red(state[key], action)\n          if (state[key] !== newState) {\n            return {\n              ...state,\n              [key]: newState,\n            }\n          }\n        }\n        return state\n      }\n    }\n\n    const reducerForActions = createActionsReducer(actionReducers, [])\n\n    const reducerWithCustom =\n      customReducers.length > 0\n        ? (state, action) => {\n            const stateAfterActions = reducerForActions(state, action)\n            return produce(stateAfterActions, draft => {\n              customReducers.forEach(({ path: p, reducer: red }) => {\n                const current = get(p, draft)\n                set(p, draft, red(current, action))\n              })\n            })\n          }\n        : reducerForActions\n\n    const runSelectorReducer = (state, selector) => {\n      const { parentPath, key, executed } = selector[selectStateSymbol]\n      if (executed) {\n        return state\n      }\n      const dependencies = selector[selectDependenciesSymbol]\n      const newState = produce(\n        dependencies ? dependencies.reduce(runSelectorReducer, state) : state,\n        draft => {\n          // eslint-disable-next-line no-param-reassign\n          const target = parentPath.length > 0 ? get(parentPath, draft) : draft\n          if (target) {\n            target[key] = selector(target)\n          }\n        },\n      )\n      // eslint-disable-next-line no-param-reassign\n      selector[selectStateSymbol].executed = true\n      return newState\n    }\n\n    const runSelectors = state =>\n      selectorReducers.reduce(runSelectorReducer, state)\n\n    let isInitial = true\n\n    return selectorReducers.length > 0\n      ? (state, action) => {\n          const stateAfterActions = reducerWithCustom(state, action)\n          if (state !== stateAfterActions || isInitial) {\n            const stateAfterSelectors = runSelectors(stateAfterActions)\n            isInitial = false\n            selectorReducers.forEach(selector => {\n              // eslint-disable-next-line no-param-reassign\n              selector[selectStateSymbol].executed = false\n            })\n            return stateAfterSelectors\n          }\n          return stateAfterActions\n        }\n      : reducerWithCustom\n  }\n\n  const reducers = createReducers()\n\n  const composeEnhancers =\n    compose ||\n    (devTools &&\n    typeof window !== 'undefined' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      : reduxCompose)\n\n  const store = reduxCreateStore(\n    reducerEnhancer(reducers),\n    defaultState,\n    composeEnhancers(applyMiddleware(thunk, ...middleware)),\n  )\n\n  // attach the action creators to dispatch\n  Object.keys(actionCreators).forEach(key => {\n    store.dispatch[key] = actionCreators[key]\n  })\n\n  references.dispatch = store.dispatch\n  references.getState = store.getState\n  references.getState.getState = store.getState\n\n  return store\n}\n","import { createContext } from 'react'\n\nconst StoreContext = createContext()\n\nexport default StoreContext\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport StoreContext from './context'\n\nconst StoreProvider = ({ children, store }) => (\n  <StoreContext.Provider value={store}>{children}</StoreContext.Provider>\n)\n\nStoreProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n  store: PropTypes.object.isRequired,\n}\n\nexport default StoreProvider\n","import { useState, useEffect, useContext, useRef } from 'react'\nimport shallowEqual from 'shallowequal'\nimport EasyPeasyContext from './context'\nimport { isStateObject } from './lib'\n\nexport function useStore(mapState, dependencies = []) {\n  const store = useContext(EasyPeasyContext)\n  const [state, setState] = useState(mapState(store.getState()))\n  // As our effect only fires on mount and unmount it won't have the state\n  // changes visible to it, therefore we use a mutable ref to track this.\n  const stateRef = useRef(state)\n  // Helps avoid firing of events when unsubscribed, i.e. unmounted\n  const isActive = useRef(true)\n  useEffect(() => {\n    const calculateState = () => {\n      const newState = mapState(store.getState())\n      isActive.current = true\n      if (\n        newState === stateRef.current ||\n        (isStateObject(newState) &&\n          isStateObject(stateRef.current) &&\n          shallowEqual(newState, stateRef.current))\n      ) {\n        // Do nothing\n        return\n      }\n      stateRef.current = newState\n      // The settimeout wrap fixes a strange issue where a setState would\n      // fire but the associated hook wouldn't receive it. It's almost as\n      // if the effect was handled in a synchronous manner in some part of\n      // the React reconciliation process that ended up with it not\n      // propagating\n      setTimeout(() => {\n        if (isActive.current) {\n          setState(newState)\n        }\n      })\n    }\n    calculateState()\n    const unsubscribe = store.subscribe(calculateState)\n    return () => {\n      unsubscribe()\n      isActive.current = false\n    }\n  }, dependencies)\n  return state\n}\nexport function useAction(mapActions) {\n  const store = useContext(EasyPeasyContext)\n  return mapActions(store.dispatch)\n}\n","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n"],"names":["isStateObject","x","_typeof","Array","isArray","effectSymbol","selectSymbol","selectDependenciesSymbol","selectStateSymbol","reducerSymbol","get","path","target","reduce","acc","cur","undefined","set","value","idx","length","startsWith","search","substr","StoreContext","createContext","model","options","devTools","middleware","initialState","injections","compose","reducerEnhancer","reducer","definition","logFullState","state","console","log","JSON","stringify","references","defaultState","actionEffects","actionCreators","actionReducers","customReducers","selectorReducers","extract","current","parentPath","Object","keys","forEach","key","executed","push","actionName","join","action","payload","dispatch","type","getState","Promise","resolve","setTimeout","then","produce","draft","dispatchLocal","initialParentRef","reducerForActions","reducerWithCustom","runSelectorReducer","isInitial","reducers","createActionsReducer","actionReducersAtPath","nestedReducers","map","actionReducer","find","i","newState","red","stateAfterActions","p","selector","dependencies","stateAfterSelectors","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","reduxCompose","store","reduxCreateStore","applyMiddleware","thunk","fn","memoizeOne","children","React","Provider","mapActions","useContext","EasyPeasyContext","mapState","useState","setState","stateRef","useRef","isActive","useEffect","calculateState","objA","objB","compare","compareContext","ret","call","keysA","keysB","bHasOwnProperty","prototype","hasOwnProperty","bind","valueA","valueB","shallowEqual","unsubscribe","subscribe"],"mappings":"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"}